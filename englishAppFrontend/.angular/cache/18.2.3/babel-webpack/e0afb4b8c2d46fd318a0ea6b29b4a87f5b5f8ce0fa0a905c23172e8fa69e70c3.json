{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { of } from 'rxjs';\nimport { catchError } from 'rxjs/operators';\nlet HomePage = class HomePage {\n  constructor(authService, router) {\n    this.authService = authService;\n    this.router = router;\n    this.user = null; // Explicitly typed user variable\n    this.users = []; // List to hold all users\n    this.error = null; // To hold error messages if fetching fails\n    this.courses = [{\n      name: 'New Comers',\n      description: 'Primera etapa donde podrás comenzar mejorando tu vocabulario',\n      enrolled: 256,\n      image: 'assets/images/newcommers.webp'\n    }, {\n      name: 'Novices',\n      description: 'Segunda etapa que consta de tres pasos...',\n      enrolled: 128,\n      image: 'assets/images/novices.jpg'\n    }, {\n      name: 'Transitionals',\n      description: 'Tercera etapa llena de conversación...',\n      enrolled: 74,\n      image: 'assets/images/transitionals.jpg'\n    }, {\n      name: 'Skilled',\n      description: 'Cuarta etapa para especialización...',\n      enrolled: 35,\n      image: 'assets/images/skilled.webp'\n    }];\n    this.news = [{\n      title: 'English Tea',\n      summary: 'Estudiantes de English Tea realizan primera \"Students’ Meeting\".',\n      image: 'assets/images/news1.jpg',\n      id: 1\n    }, {\n      title: 'New Classes Available',\n      summary: 'Check out the new classes available in the English Tea program.',\n      image: 'assets/images/news2.jpg',\n      id: 2\n    }, {\n      title: 'Achievement Unlocked',\n      summary: 'Students have unlocked a new achievement this week!',\n      image: 'assets/images/news3.jpg',\n      id: 3\n    }];\n    this.slideOptions = {\n      slidesPerView: 1.2,\n      spaceBetween: 10\n    };\n  }\n  ngOnInit() {\n    this.loadUserData(); // Fetch the logged-in user data\n    this.loadUsers(); // Fetch all users\n  }\n  loadUserData() {\n    this.authService.getCurrentUser().pipe(catchError(error => {\n      console.error('Error fetching user data:', error);\n      return of(null); // Fallback to null on error\n    })).subscribe(user => {\n      if (user) {\n        this.user = user;\n        console.log('User loaded:', this.user);\n      } else {\n        console.log('No user found or user is null');\n      }\n    });\n  }\n  loadUsers() {\n    this.authService.getUsers().pipe(catchError(error => {\n      console.error('Error loading users:', error); // Log the error\n      this.error = 'Failed to load users'; // Set an error message for UI feedback\n      return of([]); // Return an empty array to keep the app running\n    })).subscribe(users => {\n      this.users = users;\n      console.log('Users loaded:', this.users);\n    });\n  }\n  isActive(page) {\n    return this.router.url === `/${page}`;\n  }\n  viewCourse(course) {\n    this.router.navigate(['/current-course'], {\n      queryParams: {\n        course: JSON.stringify(course)\n      }\n    });\n  }\n};\nHomePage = __decorate([Component({\n  selector: 'app-home',\n  templateUrl: 'home.page.html',\n  styleUrls: ['home.page.scss']\n})], HomePage);\nexport { HomePage };","map":{"version":3,"names":["Component","of","catchError","HomePage","constructor","authService","router","user","users","error","courses","name","description","enrolled","image","news","title","summary","id","slideOptions","slidesPerView","spaceBetween","ngOnInit","loadUserData","loadUsers","getCurrentUser","pipe","console","subscribe","log","getUsers","isActive","page","url","viewCourse","course","navigate","queryParams","JSON","stringify","__decorate","selector","templateUrl","styleUrls"],"sources":["/Users/user/Documents/Workspace/englishApp/englishAppFrontend/src/app/home/home.page.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { AuthenticationService } from '../services/authentication.service';\nimport { Router } from '@angular/router';\nimport { User } from '../models/user.model'; // Ensure this matches your User model\nimport { Observable, of } from 'rxjs';\nimport { catchError } from 'rxjs/operators';\n\ninterface Course {\n  name: string;\n  description: string;\n  enrolled: number;\n  image: string;\n}\n\ninterface NewsItem {\n  title: string;\n  summary: string;\n  image: string;\n  id: number;\n}\n\n@Component({\n  selector: 'app-home',\n  templateUrl: 'home.page.html',\n  styleUrls: ['home.page.scss'],\n})\nexport class HomePage implements OnInit {\n  user: User | null = null; // Explicitly typed user variable\n  users: User[] = []; // List to hold all users\n  error: string | null = null; // To hold error messages if fetching fails\n\n  courses: Course[] = [\n    {\n      name: 'New Comers',\n      description: 'Primera etapa donde podrás comenzar mejorando tu vocabulario',\n      enrolled: 256,\n      image: 'assets/images/newcommers.webp',\n    },\n    {\n      name: 'Novices',\n      description: 'Segunda etapa que consta de tres pasos...',\n      enrolled: 128,\n      image: 'assets/images/novices.jpg',\n    },\n    {\n      name: 'Transitionals',\n      description: 'Tercera etapa llena de conversación...',\n      enrolled: 74,\n      image: 'assets/images/transitionals.jpg',\n    },\n    {\n      name: 'Skilled',\n      description: 'Cuarta etapa para especialización...',\n      enrolled: 35,\n      image: 'assets/images/skilled.webp',\n    },\n  ];\n\n  news: NewsItem[] = [\n    {\n      title: 'English Tea',\n      summary: 'Estudiantes de English Tea realizan primera \"Students’ Meeting\".',\n      image: 'assets/images/news1.jpg',\n      id: 1,\n    },\n    {\n      title: 'New Classes Available',\n      summary: 'Check out the new classes available in the English Tea program.',\n      image: 'assets/images/news2.jpg',\n      id: 2,\n    },\n    {\n      title: 'Achievement Unlocked',\n      summary: 'Students have unlocked a new achievement this week!',\n      image: 'assets/images/news3.jpg',\n      id: 3,\n    },\n  ];\n\n  slideOptions = {\n    slidesPerView: 1.2,\n    spaceBetween: 10,\n  };\n\n  constructor(private authService: AuthenticationService, private router: Router) {}\n\n  ngOnInit() {\n    this.loadUserData(); // Fetch the logged-in user data\n    this.loadUsers(); // Fetch all users\n  }\n\n  loadUserData() {\n    this.authService.getCurrentUser().pipe(\n      catchError(error => {\n        console.error('Error fetching user data:', error);\n        return of(null); // Fallback to null on error\n      })\n    ).subscribe(user => {\n      if (user) {\n        this.user = user;\n        console.log('User loaded:', this.user);\n      } else {\n        console.log('No user found or user is null');\n      }\n    });\n  }\n\n  loadUsers() {\n    this.authService.getUsers().pipe(\n      catchError(error => {\n        console.error('Error loading users:', error); // Log the error\n        this.error = 'Failed to load users'; // Set an error message for UI feedback\n        return of([]); // Return an empty array to keep the app running\n      })\n    ).subscribe(users => {\n      this.users = users;\n      console.log('Users loaded:', this.users);\n    });\n  }\n\n  isActive(page: string): boolean {\n    return this.router.url === `/${page}`;\n  }\n\n  viewCourse(course: Course) {\n    this.router.navigate(['/current-course'], { queryParams: { course: JSON.stringify(course) } });\n  }\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}