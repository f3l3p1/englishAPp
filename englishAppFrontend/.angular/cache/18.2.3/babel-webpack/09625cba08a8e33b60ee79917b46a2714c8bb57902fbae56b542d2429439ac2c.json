{"ast":null,"code":"import { getAuth, updateProfile } from 'firebase/auth';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"@ionic/angular\";\nexport let SettingsPage = /*#__PURE__*/(() => {\n  var _SettingsPage;\n  class SettingsPage {\n    constructor() {\n      this.user = {}; // Modify this if you have a specific User type\n      this.newProfilePicture = null;\n    }\n    ngOnInit() {\n      const auth = getAuth();\n      const currentUser = auth.currentUser;\n      if (currentUser) {\n        this.user = {\n          id: currentUser.uid,\n          name: currentUser.displayName || 'User',\n          email: currentUser.email,\n          profilePicture: currentUser.photoURL || ''\n        };\n      }\n    }\n    onFileChange(event) {\n      const file = event.target.files[0];\n      if (file) {\n        this.newProfilePicture = file;\n        // Handle the upload of the profile picture\n      }\n    }\n    updateUserInfo() {\n      if (!this.user) return;\n      const auth = getAuth();\n      updateProfile(auth.currentUser, {\n        displayName: this.user.name,\n        photoURL: this.newProfilePicture ? URL.createObjectURL(this.newProfilePicture) : this.user.profilePicture\n      }).then(() => {\n        console.log('User profile updated successfully');\n        alert('User updated successfully');\n      }).catch(error => {\n        console.error('Error updating user profile:', error);\n        alert('Error updating user');\n      });\n    }\n  }\n  _SettingsPage = SettingsPage;\n  _SettingsPage.ɵfac = function SettingsPage_Factory(__ngFactoryType__) {\n    return new (__ngFactoryType__ || _SettingsPage)();\n  };\n  _SettingsPage.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: _SettingsPage,\n    selectors: [[\"app-settings\"]],\n    decls: 44,\n    vars: 6,\n    consts: [[\"fileInput\", \"\"], [\"slot\", \"start\"], [\"defaultHref\", \"/home\"], [\"slot\", \"end\"], [3, \"click\"], [1, \"settings-content\"], [1, \"profile-section\"], [\"alt\", \"Profile Picture\", 1, \"profile-picture\", 3, \"src\"], [\"color\", \"medium\", \"expand\", \"block\", 3, \"click\"], [\"type\", \"file\", \"accept\", \"image/*\", \"hidden\", \"\", 3, \"change\"], [3, \"ngSubmit\"], [\"position\", \"floating\"], [\"name\", \"nombre\", \"required\", \"\", 3, \"ngModelChange\", \"ngModel\"], [\"name\", \"nombreUsuario\", \"required\", \"\", 3, \"ngModelChange\", \"ngModel\"], [\"name\", \"correo\", \"type\", \"email\", \"required\", \"\", 3, \"ngModelChange\", \"ngModel\"], [\"name\", \"contrasena\", \"type\", \"password\", 3, \"ngModelChange\", \"ngModel\"], [\"display-format\", \"DD/MM/YYYY\", \"picker-format\", \"DD/MM/YYYY\", \"name\", \"fechaNacimiento\", 3, \"ngModelChange\", \"ngModel\"], [\"expand\", \"full\", \"color\", \"primary\", \"type\", \"submit\"]],\n    template: function SettingsPage_Template(rf, ctx) {\n      if (rf & 1) {\n        const _r1 = i0.ɵɵgetCurrentView();\n        i0.ɵɵelementStart(0, \"ion-header\")(1, \"ion-toolbar\")(2, \"ion-buttons\", 1);\n        i0.ɵɵelement(3, \"ion-back-button\", 2);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(4, \"ion-title\");\n        i0.ɵɵtext(5, \"Ajustes\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(6, \"ion-buttons\", 3)(7, \"ion-button\", 4);\n        i0.ɵɵlistener(\"click\", function SettingsPage_Template_ion_button_click_7_listener() {\n          i0.ɵɵrestoreView(_r1);\n          return i0.ɵɵresetView(ctx.updateUserInfo());\n        });\n        i0.ɵɵtext(8, \"Guardar\");\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵelementStart(9, \"ion-content\", 5)(10, \"div\", 6);\n        i0.ɵɵelement(11, \"img\", 7);\n        i0.ɵɵelementStart(12, \"ion-button\", 8);\n        i0.ɵɵlistener(\"click\", function SettingsPage_Template_ion_button_click_12_listener() {\n          i0.ɵɵrestoreView(_r1);\n          const fileInput_r2 = i0.ɵɵreference(15);\n          return i0.ɵɵresetView(fileInput_r2.click());\n        });\n        i0.ɵɵtext(13, \" Cambiar foto de perfil \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(14, \"input\", 9, 0);\n        i0.ɵɵlistener(\"change\", function SettingsPage_Template_input_change_14_listener($event) {\n          i0.ɵɵrestoreView(_r1);\n          return i0.ɵɵresetView(ctx.onFileChange($event));\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(16, \"ion-card\")(17, \"ion-card-header\")(18, \"ion-card-title\");\n        i0.ɵɵtext(19, \"Actualizar datos\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(20, \"ion-card-content\")(21, \"form\", 10);\n        i0.ɵɵlistener(\"ngSubmit\", function SettingsPage_Template_form_ngSubmit_21_listener() {\n          i0.ɵɵrestoreView(_r1);\n          return i0.ɵɵresetView(ctx.updateUserInfo());\n        });\n        i0.ɵɵelementStart(22, \"ion-item\")(23, \"ion-label\", 11);\n        i0.ɵɵtext(24, \"Nombre\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(25, \"ion-input\", 12);\n        i0.ɵɵtwoWayListener(\"ngModelChange\", function SettingsPage_Template_ion_input_ngModelChange_25_listener($event) {\n          i0.ɵɵrestoreView(_r1);\n          i0.ɵɵtwoWayBindingSet(ctx.user.nombre, $event) || (ctx.user.nombre = $event);\n          return i0.ɵɵresetView($event);\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(26, \"ion-item\")(27, \"ion-label\", 11);\n        i0.ɵɵtext(28, \"Nombre de Usuario\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(29, \"ion-input\", 13);\n        i0.ɵɵtwoWayListener(\"ngModelChange\", function SettingsPage_Template_ion_input_ngModelChange_29_listener($event) {\n          i0.ɵɵrestoreView(_r1);\n          i0.ɵɵtwoWayBindingSet(ctx.user.nombreUsuario, $event) || (ctx.user.nombreUsuario = $event);\n          return i0.ɵɵresetView($event);\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(30, \"ion-item\")(31, \"ion-label\", 11);\n        i0.ɵɵtext(32, \"Email\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(33, \"ion-input\", 14);\n        i0.ɵɵtwoWayListener(\"ngModelChange\", function SettingsPage_Template_ion_input_ngModelChange_33_listener($event) {\n          i0.ɵɵrestoreView(_r1);\n          i0.ɵɵtwoWayBindingSet(ctx.user.correo, $event) || (ctx.user.correo = $event);\n          return i0.ɵɵresetView($event);\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(34, \"ion-item\")(35, \"ion-label\", 11);\n        i0.ɵɵtext(36, \"Contrase\\u00F1a\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(37, \"ion-input\", 15);\n        i0.ɵɵtwoWayListener(\"ngModelChange\", function SettingsPage_Template_ion_input_ngModelChange_37_listener($event) {\n          i0.ɵɵrestoreView(_r1);\n          i0.ɵɵtwoWayBindingSet(ctx.user.contrasena, $event) || (ctx.user.contrasena = $event);\n          return i0.ɵɵresetView($event);\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(38, \"ion-item\")(39, \"ion-label\", 11);\n        i0.ɵɵtext(40, \"Fecha de Nacimiento\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(41, \"ion-datetime\", 16);\n        i0.ɵɵtwoWayListener(\"ngModelChange\", function SettingsPage_Template_ion_datetime_ngModelChange_41_listener($event) {\n          i0.ɵɵrestoreView(_r1);\n          i0.ɵɵtwoWayBindingSet(ctx.user.fechaNacimiento, $event) || (ctx.user.fechaNacimiento = $event);\n          return i0.ɵɵresetView($event);\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(42, \"ion-button\", 17);\n        i0.ɵɵtext(43, \"Actualizar\");\n        i0.ɵɵelementEnd()()()()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(11);\n        i0.ɵɵproperty(\"src\", ctx.newProfilePicture ? ctx.newProfilePicture : (ctx.user == null ? null : ctx.user.profilePicture) ? \"/uploads/\" + (ctx.user == null ? null : ctx.user.profilePicture) : \"/assets/images/9187604.png\", i0.ɵɵsanitizeUrl);\n        i0.ɵɵadvance(14);\n        i0.ɵɵtwoWayProperty(\"ngModel\", ctx.user.nombre);\n        i0.ɵɵadvance(4);\n        i0.ɵɵtwoWayProperty(\"ngModel\", ctx.user.nombreUsuario);\n        i0.ɵɵadvance(4);\n        i0.ɵɵtwoWayProperty(\"ngModel\", ctx.user.correo);\n        i0.ɵɵadvance(4);\n        i0.ɵɵtwoWayProperty(\"ngModel\", ctx.user.contrasena);\n        i0.ɵɵadvance(4);\n        i0.ɵɵtwoWayProperty(\"ngModel\", ctx.user.fechaNacimiento);\n      }\n    },\n    dependencies: [i1.ɵNgNoValidate, i1.NgControlStatus, i1.NgControlStatusGroup, i1.RequiredValidator, i1.NgModel, i1.NgForm, i2.IonButton, i2.IonButtons, i2.IonCard, i2.IonCardContent, i2.IonCardHeader, i2.IonCardTitle, i2.IonContent, i2.IonDatetime, i2.IonHeader, i2.IonInput, i2.IonItem, i2.IonLabel, i2.IonTitle, i2.IonToolbar, i2.SelectValueAccessor, i2.TextValueAccessor, i2.IonBackButton],\n    styles: [\".settings-content[_ngcontent-%COMP%] {\\n  --background: #e6f0ff; \\n\\n  padding: 20px;\\n  display: flex;\\n  flex-direction: column;\\n  align-items: center;\\n  justify-content: flex-start;\\n  min-height: 100vh; \\n\\n  background-image: url(\\\"/assets/images/fondo.png\\\"); \\n\\n  background-size: cover; \\n\\n  background-position: center;\\n}\\n\\n.profile-section[_ngcontent-%COMP%] {\\n  display: flex;\\n  flex-direction: column;\\n  align-items: center;\\n  margin: 20px 0;\\n}\\n.profile-section[_ngcontent-%COMP%]   .profile-picture[_ngcontent-%COMP%] {\\n  width: 120px;\\n  height: 120px;\\n  border-radius: 50%;\\n  margin-bottom: 10px;\\n  object-fit: cover;\\n  border: 2px solid #fff; \\n\\n}\\n.profile-section[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%] {\\n  margin-top: 10px;\\n}\\n\\nion-card[_ngcontent-%COMP%] {\\n  background-color: #ffffff !important; \\n\\n  border-radius: 12px;\\n  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);\\n  width: 100%;\\n  max-width: 400px; \\n\\n  padding: 20px;\\n  margin-bottom: 20px; \\n\\n}\\n\\nion-card-title[_ngcontent-%COMP%] {\\n  font-size: 20px;\\n  font-weight: bold;\\n  color: #333; \\n\\n  text-align: center;\\n}\\n\\nion-item[_ngcontent-%COMP%] {\\n  --padding-start: 10px;\\n  --padding-end: 10px;\\n  margin-bottom: 10px;\\n  background: #f0f0f0; \\n\\n  border-radius: 10px; \\n\\n  --inner-padding-top: 20px; \\n\\n  --inner-padding-bottom: 20px; \\n\\n}\\n\\nion-label[_ngcontent-%COMP%] {\\n  font-size: 14px;\\n  color: #333;\\n}\\n\\nion-input[_ngcontent-%COMP%] {\\n  --color: #333; \\n\\n}\\n\\nion-input[placeholder][_ngcontent-%COMP%] {\\n  opacity: 1; \\n\\n  color: #999; \\n\\n}\\n\\n.date-picker-icon[_ngcontent-%COMP%] {\\n  margin-left: 10px; \\n\\n}\\n\\nion-button[_ngcontent-%COMP%] {\\n  margin-top: 15px;\\n}\\n\\nion-button[color=primary][_ngcontent-%COMP%] {\\n  --background: #3a4ca8; \\n\\n  --border-radius: 12px;\\n}\\n\\nion-button[color=danger][_ngcontent-%COMP%] {\\n  --background: #e74c3c; \\n\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvc2V0dGluZ3Mvc2V0dGluZ3MucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0kscUJBQUEsRUFBQSwwQkFBQTtFQUNBLGFBQUE7RUFDQSxhQUFBO0VBQ0Esc0JBQUE7RUFDQSxtQkFBQTtFQUNBLDJCQUFBO0VBQ0EsaUJBQUEsRUFBQSx3QkFBQTtFQUNBLGlEQUFBLEVBQUEsNEJBQUE7RUFDQSxzQkFBQSxFQUFBLGdEQUFBO0VBQ0EsMkJBQUE7QUFDSjs7QUFFRTtFQUNFLGFBQUE7RUFDQSxzQkFBQTtFQUNBLG1CQUFBO0VBQ0EsY0FBQTtBQUNKO0FBQ0k7RUFDRSxZQUFBO0VBQ0EsYUFBQTtFQUNBLGtCQUFBO0VBQ0EsbUJBQUE7RUFDQSxpQkFBQTtFQUNBLHNCQUFBLEVBQUEsK0NBQUE7QUFDTjtBQUVJO0VBQ0UsZ0JBQUE7QUFBTjs7QUFJRTtFQUNFLG9DQUFBLEVBQUEsd0NBQUE7RUFDQSxtQkFBQTtFQUNBLHlDQUFBO0VBQ0EsV0FBQTtFQUNBLGdCQUFBLEVBQUEsOENBQUE7RUFDQSxhQUFBO0VBQ0EsbUJBQUEsRUFBQSxnQ0FBQTtBQURKOztBQUlFO0VBQ0UsZUFBQTtFQUNBLGlCQUFBO0VBQ0EsV0FBQSxFQUFBLHdCQUFBO0VBQ0Esa0JBQUE7QUFESjs7QUFJRTtFQUNFLHFCQUFBO0VBQ0EsbUJBQUE7RUFDQSxtQkFBQTtFQUNBLG1CQUFBLEVBQUEscUNBQUE7RUFDQSxtQkFBQSxFQUFBLG9DQUFBO0VBQ0EseUJBQUEsRUFBQSx3Q0FBQTtFQUNBLDRCQUFBLEVBQUEsd0NBQUE7QUFESjs7QUFJRTtFQUNFLGVBQUE7RUFDQSxXQUFBO0FBREo7O0FBSUU7RUFDRSxhQUFBLEVBQUEsZUFBQTtBQURKOztBQUlFO0VBQ0UsVUFBQSxFQUFBLHdDQUFBO0VBQ0EsV0FBQSxFQUFBLCtCQUFBO0FBREo7O0FBSUU7RUFDRSxpQkFBQSxFQUFBLDZDQUFBO0FBREo7O0FBSUU7RUFDRSxnQkFBQTtBQURKOztBQUlFO0VBQ0UscUJBQUEsRUFBQSx1QkFBQTtFQUNBLHFCQUFBO0FBREo7O0FBSUU7RUFDRSxxQkFBQSxFQUFBLHFCQUFBO0FBREoiLCJzb3VyY2VzQ29udGVudCI6WyIuc2V0dGluZ3MtY29udGVudCB7XG4gICAgLS1iYWNrZ3JvdW5kOiAjZTZmMGZmOyAvKiBMaWdodCBibHVlIGJhY2tncm91bmQgKi9cbiAgICBwYWRkaW5nOiAyMHB4O1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgIGp1c3RpZnktY29udGVudDogZmxleC1zdGFydDtcbiAgICBtaW4taGVpZ2h0OiAxMDB2aDsgLyogRW5zdXJlcyBmdWxsIGhlaWdodCAqL1xuICAgIGJhY2tncm91bmQtaW1hZ2U6IHVybCgnL2Fzc2V0cy9pbWFnZXMvZm9uZG8ucG5nJyk7IC8qIEVuc3VyZSB0aGUgY29ycmVjdCBwYXRoICovXG4gICAgYmFja2dyb3VuZC1zaXplOiBjb3ZlcjsgLyogRW5zdXJlcyB0aGUgYmFja2dyb3VuZCBjb3ZlcnMgdGhlIGZ1bGwgYXJlYSAqL1xuICAgIGJhY2tncm91bmQtcG9zaXRpb246IGNlbnRlcjtcbiAgfVxuICBcbiAgLnByb2ZpbGUtc2VjdGlvbiB7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgbWFyZ2luOiAyMHB4IDA7XG4gIFxuICAgIC5wcm9maWxlLXBpY3R1cmUge1xuICAgICAgd2lkdGg6IDEyMHB4O1xuICAgICAgaGVpZ2h0OiAxMjBweDtcbiAgICAgIGJvcmRlci1yYWRpdXM6IDUwJTtcbiAgICAgIG1hcmdpbi1ib3R0b206IDEwcHg7XG4gICAgICBvYmplY3QtZml0OiBjb3ZlcjtcbiAgICAgIGJvcmRlcjogMnB4IHNvbGlkICNmZmY7IC8qIE9wdGlvbmFsOiBhZGRzIGEgYm9yZGVyIGFyb3VuZCB0aGUgcGljdHVyZSAqL1xuICAgIH1cbiAgXG4gICAgaW9uLWJ1dHRvbiB7XG4gICAgICBtYXJnaW4tdG9wOiAxMHB4O1xuICAgIH1cbiAgfVxuICBcbiAgaW9uLWNhcmQge1xuICAgIGJhY2tncm91bmQtY29sb3I6ICNmZmZmZmYgIWltcG9ydGFudDsgLyogU29saWQgd2hpdGUgYmFja2dyb3VuZCBmb3IgdGhlIGNhcmQgKi9cbiAgICBib3JkZXItcmFkaXVzOiAxMnB4O1xuICAgIGJveC1zaGFkb3c6IDAgMnB4IDEwcHggcmdiYSgwLCAwLCAwLCAwLjEpO1xuICAgIHdpZHRoOiAxMDAlO1xuICAgIG1heC13aWR0aDogNDAwcHg7IC8qIEVuc3VyZXMgdGhlIGNhcmQgZG9lc24ndCBzdHJldGNoIHRvbyB3aWRlICovXG4gICAgcGFkZGluZzogMjBweDtcbiAgICBtYXJnaW4tYm90dG9tOiAyMHB4OyAvKiBBZGRzIHNwYWNpbmcgYmVsb3cgdGhlIGNhcmQgKi9cbiAgfVxuICBcbiAgaW9uLWNhcmQtdGl0bGUge1xuICAgIGZvbnQtc2l6ZTogMjBweDtcbiAgICBmb250LXdlaWdodDogYm9sZDtcbiAgICBjb2xvcjogIzMzMzsgLyogRGFyayB0ZXh0IGZvciB0aXRsZSAqL1xuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgfVxuICBcbiAgaW9uLWl0ZW0ge1xuICAgIC0tcGFkZGluZy1zdGFydDogMTBweDtcbiAgICAtLXBhZGRpbmctZW5kOiAxMHB4O1xuICAgIG1hcmdpbi1ib3R0b206IDEwcHg7XG4gICAgYmFja2dyb3VuZDogI2YwZjBmMDsgLyogTGlnaHQgZ3JheSBiYWNrZ3JvdW5kIGZvciBpbnB1dHMgKi9cbiAgICBib3JkZXItcmFkaXVzOiAxMHB4OyAvKiBSb3VuZGVkIGNvcm5lcnMgZm9yIGlucHV0IGl0ZW1zICovXG4gICAgLS1pbm5lci1wYWRkaW5nLXRvcDogMjBweDsgLyogQWRkcyBwYWRkaW5nIHRvIGF2b2lkIGxhYmVsIG92ZXJsYXAgKi9cbiAgICAtLWlubmVyLXBhZGRpbmctYm90dG9tOiAyMHB4OyAvKiBBZGRzIHBhZGRpbmcgdG8gYXZvaWQgbGFiZWwgb3ZlcmxhcCAqL1xuICB9XG4gIFxuICBpb24tbGFiZWwge1xuICAgIGZvbnQtc2l6ZTogMTRweDtcbiAgICBjb2xvcjogIzMzMztcbiAgfVxuICBcbiAgaW9uLWlucHV0IHtcbiAgICAtLWNvbG9yOiAjMzMzOyAvKiBUZXh0IGNvbG9yICovXG4gIH1cbiAgXG4gIGlvbi1pbnB1dFtwbGFjZWhvbGRlcl0ge1xuICAgIG9wYWNpdHk6IDE7IC8qIEVuc3VyZXMgcGxhY2Vob2xkZXIgdGV4dCBpcyB2aXNpYmxlICovXG4gICAgY29sb3I6ICM5OTk7IC8qIEdyYXkgY29sb3IgZm9yIHBsYWNlaG9sZGVyICovXG4gIH1cbiAgXG4gIC5kYXRlLXBpY2tlci1pY29uIHtcbiAgICBtYXJnaW4tbGVmdDogMTBweDsgLyogQWRqdXN0IHNwYWNlIGFyb3VuZCB0aGUgZGF0ZSBwaWNrZXIgaWNvbiAqL1xuICB9XG4gIFxuICBpb24tYnV0dG9uIHtcbiAgICBtYXJnaW4tdG9wOiAxNXB4O1xuICB9XG4gIFxuICBpb24tYnV0dG9uW2NvbG9yPVwicHJpbWFyeVwiXSB7XG4gICAgLS1iYWNrZ3JvdW5kOiAjM2E0Y2E4OyAvKiBQcmltYXJ5IGJsdWUgY29sb3IgKi9cbiAgICAtLWJvcmRlci1yYWRpdXM6IDEycHg7XG4gIH1cbiAgXG4gIGlvbi1idXR0b25bY29sb3I9XCJkYW5nZXJcIl0ge1xuICAgIC0tYmFja2dyb3VuZDogI2U3NGMzYzsgLyogRGFuZ2VyIHJlZCBjb2xvciAqL1xuICB9XG4iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n  });\n  return SettingsPage;\n})();","map":{"version":3,"names":["getAuth","updateProfile","SettingsPage","_SettingsPage","constructor","user","newProfilePicture","ngOnInit","auth","currentUser","id","uid","name","displayName","email","profilePicture","photoURL","onFileChange","event","file","target","files","updateUserInfo","URL","createObjectURL","then","console","log","alert","catch","error","selectors","decls","vars","consts","template","SettingsPage_Template","rf","ctx","i0","ɵɵelementStart","ɵɵelement","ɵɵelementEnd","ɵɵtext","ɵɵlistener","SettingsPage_Template_ion_button_click_7_listener","ɵɵrestoreView","_r1","ɵɵresetView","SettingsPage_Template_ion_button_click_12_listener","fileInput_r2","ɵɵreference","click","SettingsPage_Template_input_change_14_listener","$event","SettingsPage_Template_form_ngSubmit_21_listener","ɵɵtwoWayListener","SettingsPage_Template_ion_input_ngModelChange_25_listener","ɵɵtwoWayBindingSet","nombre","SettingsPage_Template_ion_input_ngModelChange_29_listener","nombreUsuario","SettingsPage_Template_ion_input_ngModelChange_33_listener","correo","SettingsPage_Template_ion_input_ngModelChange_37_listener","contrasena","SettingsPage_Template_ion_datetime_ngModelChange_41_listener","fechaNacimiento","ɵɵadvance","ɵɵproperty","ɵɵsanitizeUrl","ɵɵtwoWayProperty"],"sources":["/Users/user/Documents/Workspace/englishApp/englishAppFrontend/src/app/settings/settings.page.ts","/Users/user/Documents/Workspace/englishApp/englishAppFrontend/src/app/settings/settings.page.html"],"sourcesContent":["// src/app/settings/settings.page.ts\nimport { Component } from '@angular/core';\nimport { getAuth, updateProfile } from 'firebase/auth';\n\n@Component({\n  selector: 'app-settings',\n  templateUrl: './settings.page.html',\n  styleUrls: ['./settings.page.scss'],\n})\nexport class SettingsPage {\n  user: any = {};  // Modify this if you have a specific User type\n  newProfilePicture: File | null = null;\n\n  constructor() {}\n\n  ngOnInit() {\n    const auth = getAuth();\n    const currentUser = auth.currentUser;\n    if (currentUser) {\n      this.user = {\n        id: currentUser.uid,\n        name: currentUser.displayName || 'User',\n        email: currentUser.email,\n        profilePicture: currentUser.photoURL || ''\n      };\n    }\n  }\n\n  onFileChange(event: any) {\n    const file = event.target.files[0];\n    if (file) {\n      this.newProfilePicture = file;\n      // Handle the upload of the profile picture\n    }\n  }\n\n  updateUserInfo() {\n    if (!this.user) return;\n    const auth = getAuth();\n    updateProfile(auth.currentUser!, {\n      displayName: this.user.name,\n      photoURL: this.newProfilePicture ? URL.createObjectURL(this.newProfilePicture) : this.user.profilePicture\n    }).then(() => {\n      console.log('User profile updated successfully');\n      alert('User updated successfully');\n    }).catch((error) => {\n      console.error('Error updating user profile:', error);\n      alert('Error updating user');\n    });\n  }\n}\n","<ion-header>\n  <ion-toolbar>\n    <ion-buttons slot=\"start\">\n      <ion-back-button defaultHref=\"/home\"></ion-back-button>\n    </ion-buttons>\n    <ion-title>Ajustes</ion-title>\n    <ion-buttons slot=\"end\">\n      <ion-button (click)=\"updateUserInfo()\">Guardar</ion-button>\n    </ion-buttons>\n  </ion-toolbar>\n</ion-header>\n\n<ion-content class=\"settings-content\">\n  <!-- Profile Section -->\n  <div class=\"profile-section\">\n    <img \n      [src]=\"newProfilePicture ? newProfilePicture : (user?.profilePicture ? '/uploads/' + user?.profilePicture : '/assets/images/9187604.png')\" \n      alt=\"Profile Picture\" \n      class=\"profile-picture\"\n    />\n    <ion-button color=\"medium\" expand=\"block\" (click)=\"fileInput.click()\">\n      Cambiar foto de perfil\n    </ion-button>\n    <input type=\"file\" accept=\"image/*\" #fileInput (change)=\"onFileChange($event)\" hidden />\n  </div>\n\n  <!-- Form to Update User Information -->\n  <ion-card>\n    <ion-card-header>\n      <ion-card-title>Actualizar datos</ion-card-title>\n    </ion-card-header>\n    <ion-card-content>\n      <form (ngSubmit)=\"updateUserInfo()\">\n        <!-- Name Input -->\n        <ion-item>\n          <ion-label position=\"floating\">Nombre</ion-label>\n          <ion-input [(ngModel)]=\"user.nombre\" name=\"nombre\" required></ion-input>\n        </ion-item>\n\n        <!-- Username Input -->\n        <ion-item>\n          <ion-label position=\"floating\">Nombre de Usuario</ion-label>\n          <ion-input [(ngModel)]=\"user.nombreUsuario\" name=\"nombreUsuario\" required></ion-input>\n        </ion-item>\n\n        <!-- Email Input -->\n        <ion-item>\n          <ion-label position=\"floating\">Email</ion-label>\n          <ion-input [(ngModel)]=\"user.correo\" name=\"correo\" type=\"email\" required></ion-input>\n        </ion-item>\n\n        <!-- Password Input -->\n        <ion-item>\n          <ion-label position=\"floating\">Contraseña</ion-label>\n          <ion-input [(ngModel)]=\"user.contrasena\" name=\"contrasena\" type=\"password\"></ion-input>\n        </ion-item>\n\n        <!-- Date of Birth Input -->\n        <ion-item>\n          <ion-label position=\"floating\">Fecha de Nacimiento</ion-label>\n          <ion-datetime\n            display-format=\"DD/MM/YYYY\"\n            picker-format=\"DD/MM/YYYY\"\n            [(ngModel)]=\"user.fechaNacimiento\"\n            name=\"fechaNacimiento\">\n          </ion-datetime>\n        </ion-item>\n\n        <!-- Update Button -->\n        <ion-button expand=\"full\" color=\"primary\" type=\"submit\">Actualizar</ion-button>\n      </form>\n    </ion-card-content>\n  </ion-card>\n</ion-content>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}