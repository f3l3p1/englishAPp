<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-button>
        <ion-icon name="notifications-outline"></ion-icon>
      </ion-button>
    </ion-buttons>
    <ion-title>User Information</ion-title>
    <ion-buttons slot="end">
      <ion-button>
        <ion-icon name="settings-outline"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content>
  <div class="user-profile" *ngIf="user"> <!-- Only show if user is defined -->
    <img [src]="user.profilePicture || 'path/to/default/profile-picture.jpg'" alt="Profile Picture" class="profile-picture" />
    <div class="user-info">
      <h2>{{ user.name }}</h2>
      <p>Email: {{ user.email }}</p>
    </div>
  </div>

  <ion-card class="stats-card">
    <ion-card-content>
      <div class="stats-section">
        <div class="stat-item">
          <h3>Completed Sessions</h3>
          <p>{{ user.completedSessions || 0 }}</p>
        </div>
        <div class="stat-item">
          <h3>Completed Tasks</h3>
          <p>{{ user.completedTasks || 0 }}</p>
        </div>
        <div class="stat-item">
          <h3>Achievements</h3>
          <p>{{ user.achievements || 0 }}</p>
        </div>
      </div>

      <!-- Current Course -->
      <div class="course-info" *ngIf="currentCourse">
        <img [src]="currentCourse?.image" alt="Course Image" class="course-image" />
        <div class="course-details">
          <h3>{{ currentCourse?.name }}</h3>
          <p>{{ currentCourse?.description }}</p>
          <a [routerLink]="['/courses', currentCourse?.id]" class="see-more">See more</a>
          <ion-progress-bar [value]="currentCourse?.progress / 100"></ion-progress-bar>
        </div>
      </div>
      
    </ion-card-content>
  </ion-card>

  <!-- Past Sessions Section -->
  <section class="past-sessions">
    <h2>Past Sessions</h2>
    <div class="sessions-scroll">
      <ng-container *ngFor="let session of pastSessions">
        <div class="session-item">
          <h3>{{ session.name }}</h3>
          <a routerLink="/comments/{{ session.id }}" class="see-comments">See comments</a>
        </div>
      </ng-container>
    </div>
  </section>
</ion-content>

<ion-footer>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-button routerLink="/home" [class.active]="isActive('home')">
        <ion-icon name="home-outline" [class.red]="isActive('home')"></ion-icon>
      </ion-button>
      <ion-button routerLink="/user-information" [class.active]="isActive('user-information')">
        <ion-icon name="person-outline" [class.red]="isActive('user-information')"></ion-icon> <!-- User icon -->
      </ion-button>
    </ion-buttons>
    <ion-buttons slot="end">
      <ion-button routerLink="/courses" [class.active]="isActive('courses')">
        <ion-icon name="book-outline" [class.red]="isActive('courses')"></ion-icon>
      </ion-button>
      <ion-button routerLink="/tasks" [class.active]="isActive('tasks')">
        <ion-icon name="checklist-outline" [class.red]="isActive('tasks')"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-footer>


<style scoped>
  .user-profile {
    display: flex;
    align-items: center;
    padding: 16px;
  }

  .profile-picture {
    border-radius: 50%;
    width: 80px;
    height: 80px;
    margin-right: 16px;
  }

  .stats-card {
    margin: 16px;
  }

  .stats-section {
    display: flex;
    justify-content: space-around;
  }

  .stat-item {
    text-align: center;
  }

  .course-info {
    display: flex;
    align-items: center;
    margin-top: 16px;
  }

  .course-image {
    width: 80px;
    height: auto; /* Adjust as needed */
    margin-right: 16px;
  }

  .course-details {
    flex-grow: 1; /* Allow details to take up remaining space */
  }

  .past-sessions {
    padding: 16px;
  }

  .sessions-scroll {
    display: flex;
    overflow-x: auto; /* Enables horizontal scrolling */
    padding: 8px;
  }

  .session-item {
    padding: 8px;
    margin-right: 10px;
    background-color: #f0f0f0;
    border-radius: 8px;
    min-width: 150px; /* Adjust based on your design */
    text-align: center; /* Center the text */
  }
</style>

